
# ì´ë©”ì¼ ë°œì†¡ ê¸°ëŠ¥ ê°œì„  ê³„íš

## ìš”ì•½
ì´ë©”ì¼ ë³¸ë¬¸ì— í•„í„°ë§ëœ ë°ì´í„°ì˜ **ì „ì²´ í†µê³„(7ê°œ ì¹´í…Œê³ ë¦¬)**ë¥¼ í‘œì‹œí•˜ê³ , **ëŒ€ì‹œë³´ë“œ ë§í¬ë¥¼ í¬ê²Œ** ê°•ì¡°í•˜ë„ë¡ ê°œì„ í•©ë‹ˆë‹¤. ìƒì„¸ í’ˆëª© ë¦¬ìŠ¤íŠ¸ëŠ” ì œê±°í•©ë‹ˆë‹¤.

---

## ë³€ê²½ ë‚´ìš©

### í˜„ì¬ ìƒíƒœ
| í•­ëª© | í˜„ì¬ |
|---|---|
| í†µê³„ í•­ëª© | ì „ì²´, í•­ì•”ì œ, ì‹ ì•½, ë°”ì´ì˜¤ì‹œë°€ëŸ¬ (4ê°œ) |
| í’ˆëª© ë¦¬ìŠ¤íŠ¸ | ìƒìœ„ 10ê±´ í‘œì‹œ |
| ëŒ€ì‹œë³´ë“œ ë§í¬ | í‘¸í„°ì— ì‘ì€ í…ìŠ¤íŠ¸ |

### ë³€ê²½ í›„
| í•­ëª© | ë³€ê²½ í›„ |
|---|---|
| í†µê³„ í•­ëª© | ì „ì²´ìŠ¹ì¸, í•­ì•”ì œ, ì‹ ì•½, í¬ê·€ì˜ì•½í’ˆ, ë°”ì´ì˜¤ì‹œë°€ëŸ¬, BLA, NDA (7ê°œ) |
| í’ˆëª© ë¦¬ìŠ¤íŠ¸ | ì œê±° |
| ëŒ€ì‹œë³´ë“œ ë§í¬ | ë³¸ë¬¸ ì¤‘ì•™ì— í° ë²„íŠ¼ í˜•íƒœë¡œ í‘œì‹œ |

---

## ìˆ˜ì • íŒŒì¼

### 1. `src/components/dashboard/EmailSend.tsx`
- stats ê°ì²´ì— BLA, NDA ì¹´ìš´íŠ¸ ì¶”ê°€
- ë¯¸ë¦¬ë³´ê¸° UIì— í¬ê·€ì˜ì•½í’ˆ, BLA, NDA í†µê³„ ì¶”ê°€
- items ë°°ì—´ ì „ì†¡ ì œê±° (í’ˆëª© ë¦¬ìŠ¤íŠ¸ ë¶ˆí•„ìš”)

### 2. `supabase/functions/send-email/index.ts`
- EmailRequest ì¸í„°í˜ì´ìŠ¤ì— BLA, NDA í•„ë“œ ì¶”ê°€
- í†µê³„ ì¹´ë“œë¥¼ 7ê°œë¡œ í™•ì¥ (2í–‰ êµ¬ì„±)
- í’ˆëª© ë¦¬ìŠ¤íŠ¸ í…Œì´ë¸” ì œê±°
- ëŒ€ì‹œë³´ë“œ ë§í¬ë¥¼ í° CTA ë²„íŠ¼ìœ¼ë¡œ ë³€ê²½

---

## ì´ë©”ì¼ ë ˆì´ì•„ì›ƒ ë¯¸ë¦¬ë³´ê¸°

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  US FDA ìŠ¹ì¸ í˜„í™©                                                    â”‚
â”‚  ë¯¸êµ­ FDA ì „ë¬¸ì˜ì•½í’ˆ ìŠ¹ì¸ ë°ì´í„° ìš”ì•½                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š ìš”ì•½ í†µê³„                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚ ì „ì²´ìŠ¹ì¸ â”‚ í•­ì•”ì œ  â”‚  ì‹ ì•½   â”‚í¬ê·€ì˜ì•½í’ˆâ”‚ë°”ì´ì˜¤ì‹œë°€ëŸ¬â”‚  BLA   â”‚  NDA   â”‚
â”‚  â”‚   25    â”‚   8    â”‚   12   â”‚    5    â”‚    3    â”‚   10   â”‚   15   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚           â”‚      ğŸ“Š ëŒ€ì‹œë³´ë“œì—ì„œ ìƒì„¸ í™•ì¸í•˜ê¸°      â”‚                 â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ë°œì†¡ ì‹œê°: 2026-02-08 14:30                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­

### EmailSend.tsx ë³€ê²½

```tsx
// í†µê³„ì— BLA, NDA ì¶”ê°€
const stats = {
  total: filteredData.length,
  oncology: filteredData.filter((d) => d.isOncology).length,
  novelDrug: filteredData.filter((d) => d.isNovelDrug).length,
  orphanDrug: filteredData.filter((d) => d.isOrphanDrug).length,
  biosimilar: filteredData.filter((d) => d.isBiosimilar).length,
  bla: filteredData.filter((d) => d.applicationType === "BLA").length,
  nda: filteredData.filter((d) => d.applicationType === "NDA").length,
};

// API í˜¸ì¶œì—ì„œ items ì œê±°
const { data, error } = await supabase.functions.invoke("send-email", {
  body: {
    to: recipientEmail,
    subject: `[FDA ìŠ¹ì¸ í˜„í™©] ${today} ê¸°ì¤€ ${stats.total}ê±´`,
    stats,
  },
});
```

### send-email Edge Function ë³€ê²½

```typescript
// ì¸í„°í˜ì´ìŠ¤ ìˆ˜ì •
interface EmailRequest {
  to: string;
  subject: string;
  stats: {
    total: number;
    oncology: number;
    novelDrug: number;
    orphanDrug: number;
    biosimilar: number;
    bla: number;
    nda: number;
  };
}

// HTML í…œí”Œë¦¿: 7ê°œ í†µê³„ ì¹´ë“œ + í° CTA ë²„íŠ¼
```

---

## êµ¬í˜„ ìˆœì„œ

1. `EmailSend.tsx` ìˆ˜ì •
   - stats ê°ì²´ í™•ì¥ (BLA, NDA ì¶”ê°€)
   - ë¯¸ë¦¬ë³´ê¸° UI ì—…ë°ì´íŠ¸
   - API í˜¸ì¶œì—ì„œ items ì œê±°

2. `send-email/index.ts` ìˆ˜ì •
   - EmailRequest ì¸í„°í˜ì´ìŠ¤ ì—…ë°ì´íŠ¸
   - HTML í…œí”Œë¦¿ ì¬êµ¬ì„± (7ê°œ í†µê³„ + í° CTA ë²„íŠ¼)
   - í’ˆëª© ë¦¬ìŠ¤íŠ¸ í…Œì´ë¸” ì œê±°

3. Edge Function ì¬ë°°í¬

4. í…ŒìŠ¤íŠ¸
   - ì´ë©”ì¼ ë°œì†¡ í›„ ë³¸ë¬¸ í™•ì¸
